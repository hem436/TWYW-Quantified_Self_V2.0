{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from '../store/index.js';\nVue.use(VueRouter);\nconst routes = [{\n  path: '/dashboard',\n  component: () => import('@/components/dash/DashIndex'),\n  children: [{\n    path: '/',\n    name: 'dash.home',\n    component: () => import('@/components/dash/DashHome'),\n    meta: {\n      title: 'Home Dashboard',\n      auth: true\n    }\n  }, {\n    path: '/about',\n    name: 'about',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(\n    /* webpackChunkName: \"about\" */\n    '../views/AboutView.vue')\n  }]\n}, {\n  path: '/login',\n  name: 'Login',\n  component: () => import('@/components/LogIn'),\n  meta: {\n    auth: false\n  }\n}, {\n  path: '/signup',\n  name: 'signup',\n  component: () => import('@/components/SignUp'),\n  meta: {\n    auth: false\n  }\n}];\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n});\nrouter.beforeEach((to, from) => {\n  // instead of having to check every route record with \"WyI1MjJlMDBmMGI3ODE0NTg0YjcwMmEyN2IwZGEwOTFkYiJd.Yv3haw.CCf1H1tUJqdwZmusxwOFuCCLwkI\"\n  // to.matched.some(record => record.meta.requiresAuth)\n  console.log(token.length);\n\n  if (to.meta.auth && !store.token.length != 0) {\n    // this route requires auth, check if logged in\n    // if not, redirect to login page.\n    return {\n      path: '/login',\n      // save the location we were at to come back later\n      query: {\n        redirect: to.fullPath\n      }\n    };\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","use","routes","path","component","children","name","meta","title","auth","router","mode","base","process","env","BASE_URL","beforeEach","to","from","console","log","token","length","query","redirect","fullPath"],"sources":["/home/hem436/Documents/Project-MAD2/quantified self v2/Frontend/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport store from '../store/index.js'\n\nVue.use(VueRouter)\n\nconst routes = [{\n    path: '/dashboard',\n    component: () => import('@/components/dash/DashIndex'),\n    children: [{\n        path: '/',\n        name: 'dash.home',\n        component: () => import('@/components/dash/DashHome'),\n        meta: {\n          title: 'Home Dashboard',\n          auth:true\n        }\n      },\n      {\n        path: '/about',\n        name: 'about',\n        // route level code-splitting\n        // this generates a separate chunk (about.[hash].js) for this route\n        // which is lazy-loaded when the route is visited.\n        component: () => import( /* webpackChunkName: \"about\" */ '../views/AboutView.vue')\n      }\n    ]\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: () => import('@/components/LogIn'),\n    meta:{auth:false}\n  },\n  {\n    path: '/signup',\n    name: 'signup',\n    component: () => import('@/components/SignUp'),\n    meta:{auth:false}\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nrouter.beforeEach((to, from) => {\n  // instead of having to check every route record with \"WyI1MjJlMDBmMGI3ODE0NTg0YjcwMmEyN2IwZGEwOTFkYiJd.Yv3haw.CCf1H1tUJqdwZmusxwOFuCCLwkI\"\n  // to.matched.some(record => record.meta.requiresAuth)\n  console.log(token.length)\n  if (to.meta.auth && !store.token.length!=0) {\n    // this route requires auth, check if logged in\n    // if not, redirect to login page.\n    return {\n      path: '/login',\n      // save the location we were at to come back later\n      query: { redirect: to.fullPath },\n    }\n  }\n})\nexport default router\n"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,SAAR;AAEA,MAAMG,MAAM,GAAG,CAAC;EACZC,IAAI,EAAE,YADM;EAEZC,SAAS,EAAE,MAAM,OAAO,6BAAP,CAFL;EAGZC,QAAQ,EAAE,CAAC;IACPF,IAAI,EAAE,GADC;IAEPG,IAAI,EAAE,WAFC;IAGPF,SAAS,EAAE,MAAM,OAAO,4BAAP,CAHV;IAIPG,IAAI,EAAE;MACJC,KAAK,EAAE,gBADH;MAEJC,IAAI,EAAC;IAFD;EAJC,CAAD,EASR;IACEN,IAAI,EAAE,QADR;IAEEG,IAAI,EAAE,OAFR;IAGE;IACA;IACA;IACAF,SAAS,EAAE,MAAM;IAAQ;IAAgC,wBAAxC;EANnB,CATQ;AAHE,CAAD,EAsBb;EACED,IAAI,EAAE,QADR;EAEEG,IAAI,EAAE,OAFR;EAGEF,SAAS,EAAE,MAAM,OAAO,oBAAP,CAHnB;EAIEG,IAAI,EAAC;IAACE,IAAI,EAAC;EAAN;AAJP,CAtBa,EA4Bb;EACEN,IAAI,EAAE,SADR;EAEEG,IAAI,EAAE,QAFR;EAGEF,SAAS,EAAE,MAAM,OAAO,qBAAP,CAHnB;EAIEG,IAAI,EAAC;IAACE,IAAI,EAAC;EAAN;AAJP,CA5Ba,CAAf;AAoCA,MAAMC,MAAM,GAAG,IAAIX,SAAJ,CAAc;EAC3BY,IAAI,EAAE,SADqB;EAE3BC,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;EAG3Bb;AAH2B,CAAd,CAAf;AAMAQ,MAAM,CAACM,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,KAAc;EAC9B;EACA;EACAC,OAAO,CAACC,GAAR,CAAYC,KAAK,CAACC,MAAlB;;EACA,IAAIL,EAAE,CAACV,IAAH,CAAQE,IAAR,IAAgB,CAACT,KAAK,CAACqB,KAAN,CAAYC,MAAb,IAAqB,CAAzC,EAA4C;IAC1C;IACA;IACA,OAAO;MACLnB,IAAI,EAAE,QADD;MAEL;MACAoB,KAAK,EAAE;QAAEC,QAAQ,EAAEP,EAAE,CAACQ;MAAf;IAHF,CAAP;EAKD;AACF,CAbD;AAcA,eAAef,MAAf"},"metadata":{},"sourceType":"module"}