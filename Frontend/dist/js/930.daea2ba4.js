"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[930],{2930:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[e._m(0),t("br"),t("div",{staticClass:"row"},[t("div",{staticClass:"form col-sm-6 offset-sm-3"},[t("label",{attrs:{for:"username"}},[e._v("Username:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",name:"username",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),t("br"),e.username_validate?e._e():t("h6",{staticStyle:{"font-family":"zillaslab,palatino,Palatino Linotype,serif",color:"red"}},[e._v(" "+e._s(e.error.u)+" ")]),t("br"),t("label",{attrs:{for:"email"}},[e._v("Email:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",name:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),t("br"),e.email_validate?e._e():t("h6",{staticStyle:{"font-family":"zillaslab,palatino,Palatino Linotype,serif",color:"red"}},[e._v(" "+e._s(e.error.e)+" ")]),t("br"),t("label",{attrs:{for:"password"}},[e._v("Enter a Password:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),t("br"),t("button",{attrs:{type:"button"},on:{click:e.signup}},[e._v("Sign up")]),t("br"),e.password_validate?e._e():t("h6",{staticStyle:{"font-family":"zillaslab,palatino,Palatino Linotype,serif",color:"red"}},[e._v(" "+e._s(e.error.p)+" ")]),e._v(" Already have an account? "),t("a",{attrs:{href:"/"}},[e._v("Login")])])])])},s=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"row",attrs:{align:"center"}},[t("h1",[e._v("New user sign up")]),t("br"),t("br")])}],o={name:"SignUp",data(){return{username:"",password:"",email:"",error:{u:"",p:"",e:""}}},methods:{gen_uerror:function(e){this.error.u=e},gen_perror:function(e){this.error.p=e},gen_eerror:function(e){this.error.e=e},signup:function(){if(this.username_validate&&this.password_validate){let e=this,t={username:this.username,password:this.password,email:this.email};console.log("going to signup");let r=fetch("http://localhost:5000/api/user",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://localhost:8080"},body:JSON.stringify(t)}).then((function(e){if(e.ok)return e.json();throw"bad response"})).then((function(t){e.$cookies.set("user",e.$Ciphers.encode("Vigenere Cipher",t.username+";"+t.auth_token,["Pwd"])),e.$store.commit("login",t),e.$router.push("/dashboard")})).catch((e=>console.log(e)));console.log(r)}else alert("Invalid username or password")}},computed:{username_validate:function(){let e=/^[0-9a-zA-Z]*$/;return this.username.match(e)&&this.username.length>0?(this.gen_uerror(""),!0):(this.gen_uerror("Username must be alphanumeric"),!1)},password_validate:function(){let e=/^(?=.*).{8,}$/;return this.password.match(e)?(this.gen_perror(""),!0):(this.gen_perror("Password should be atleast 8 characters"),!1)},email_validate:function(){let e=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return!!this.email.match(e)||(this.gen_eerror("Invalid email"),!1)}}},n=o,i=r(1001),l=(0,i.Z)(n,a,s,!1,null,"60b87c70",null),u=l.exports}}]);
//# sourceMappingURL=930.daea2ba4.js.map