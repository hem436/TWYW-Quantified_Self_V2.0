"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[565],{565:function(e,r,t){t.r(r),t.d(r,{default:function(){return u}});var s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"login"},[e._m(0),r("br"),r("div",{staticClass:"row"},[r("div",{staticClass:"form col-sm-6 offset-sm-3"},[r("label",{attrs:{for:"username"}},[e._v("Username:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",name:"username",required:""},domProps:{value:e.username},on:{input:function(r){r.target.composing||(e.username=r.target.value)}}}),r("br"),e.username_validate?e._e():r("h6",{staticStyle:{"font-family":"zillaslab,palatino,Palatino Linotype,serif",color:"red"}},[e._v(e._s(e.error.u))]),r("br"),r("label",{attrs:{for:"password"}},[e._v("Enter a Password:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",required:""},domProps:{value:e.password},on:{input:function(r){r.target.composing||(e.password=r.target.value)}}}),r("br"),r("button",{attrs:{type:"button"},on:{click:e.signup}},[e._v("Sign up")]),r("br"),e.password_validate?e._e():r("h6",{staticStyle:{"font-family":"zillaslab,palatino,Palatino Linotype,serif",color:"red"}},[e._v(e._s(e.error.p))]),e._v(" Already have an account? "),r("a",{attrs:{href:"/"}},[e._v("Login")])])])])},a=[function(){var e=this,r=e._self._c;return r("div",{staticClass:"row",attrs:{align:"center"}},[r("h1",[e._v("New user sign up")]),r("br"),r("br")])}],o={name:"SignUp",data(){return{username:"",password:"",error:{u:"",p:""}}},methods:{gen_uerror:function(e){this.error.u=e},gen_perror:function(e){this.error.p=e},signup:function(){if(this.username_validate&&this.password_validate){let e=this,r={username:this.username,password:this.password};console.log("going to signup");let t=fetch("http://127.0.0.1:5000/api/user",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://localhost:8080"},body:JSON.stringify(r)}).then((function(e){if(e.ok)return e.json();throw"bad response"})).then((function(r){e.$cookies.set("user",e.$Ciphers.encode("Vigenere Cipher",r.username+";"+r.auth_token,["Pwd"])),window.location.href_="/dashboard"})).catch((e=>console.log(e)));console.log(t)}else alert("Invalid username or password")}},computed:{username_validate:function(){let e=/^[0-9a-zA-Z]*$/;return this.username.match(e)&&this.username.length>0?(this.gen_uerror(""),!0):(this.gen_uerror("Username must be alphanumeric"),!1)},password_validate:function(){let e=/^(?=.*).{8,}$/;return this.password.match(e)?(this.gen_perror(""),!0):(this.gen_perror("Password should be atleast 8 characters"),!1)}}},n=o,i=t(1001),l=(0,i.Z)(n,s,a,!1,null,"9f990874",null),u=l.exports}}]);
//# sourceMappingURL=565.750cebea.js.map