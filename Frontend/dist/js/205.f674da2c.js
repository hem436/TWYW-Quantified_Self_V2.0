"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[205],{2205:function(t,e,o){o.r(e),o.d(e,{default:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"addlogs"},[t._m(0),e("br"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 offset-3 h5"},[e("div",{staticClass:"row m-3"},[e("div",{staticClass:"col-6"},[t._v(" Tracker: ")]),e("div",{staticClass:"col-6"},[e("router-link",{attrs:{to:{name:"dash.tracker",params:{id:t.tracker.tracker_id}}}},[t._v(t._s(t.tracker.tracker_name))])],1)]),e("div",{staticClass:"row m-3"},[e("div",{staticClass:"col-6"},[t._v(" Tracker type: ")]),e("div",{staticClass:"col-6"},[t._v(" "+t._s(t.tracker.tracker_type)+" ")])]),e("div",{staticClass:"row m-3"},[e("div",{staticClass:"col-6"},[t._v(" Logged datetime ")]),e("div",{staticClass:"col-6"},[e("input",{attrs:{type:"text",id:"log_datetime"},domProps:{value:t._f("date_format")(t.log.log_datetime)}}),e("button",{attrs:{type:"button",name:"button"},on:{click:t.update_dt}},[t._v("@")])])]),"Integer"===t.tracker.tracker_type?e("div",{staticClass:"row m-3"},[t._m(1),e("div",{staticClass:"col-6"},[e("input",{attrs:{type:"Number",id:"log_val",name:"log_val",placeholder:"Int",required:""},domProps:{value:t.log.log_value}})])]):t._e(),"Numeric"===t.tracker.tracker_type?e("div",{staticClass:"row m-3"},[t._m(2),e("div",{staticClass:"col-6"},[e("input",{attrs:{type:"Number",id:"log_val",name:"log_val",step:"0.000001",placeholder:"Float",required:""},domProps:{value:t.log.log_value}})])]):t._e(),"Time"===t.tracker.tracker_type?e("div",{staticClass:"row m-3"},[t._m(3),e("div",{staticClass:"col-6"},[e("input",{attrs:{id:"log_val",type:"text"},domProps:{value:t.log.log_value}}),e("button",{attrs:{id:"start"},on:{click:function(e){t.stopwatch().start()}}},[t._v("Start")]),e("button",{attrs:{id:"reset"},on:{click:function(e){t.stopwatch().reset()}}},[t._v("Reset")])])]):t._e(),"Multiple-choice"===t.tracker.tracker_type?e("div",{staticClass:"row m-3"},[t._m(4),e("div",{staticClass:"col-6"},[e("select",{attrs:{id:"log_val",name:"log_val"},domProps:{value:t.log.log_value}},t._l(t.tracker.settings.split(","),(function(o,s){return e("option",{key:s},[t._v(t._s(o))])})),0)])]):t._e(),e("div",{staticClass:"row m-3"},[e("div",{staticClass:"col-6"},[t._v(" Update note ")]),e("div",{staticClass:"col-6"},[e("textarea",{attrs:{id:"log_note",name:"note",placeholder:"Note/Remark"},domProps:{value:t.log.note}})])]),e("div",{staticClass:"row m-3"},[e("div",{staticClass:"col d-flex justify-content-center"},[e("button",{attrs:{type:"submit",name:"button"},on:{click:t.postlog}},[t._v("Submit")]),e("div",{attrs:{id:"error"}})])])])])])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 offset-3 d-flex justify-content-center"},[e("h1",[t._v("Update a log")])]),e("div",{staticClass:"col-3 d-flex justify-content-center"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-6"},[e("label",{attrs:{for:"log_val"}},[t._v("Log value")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-6"},[e("label",{attrs:{for:"log_val"}},[t._v("Log value")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-6"},[e("label",{attrs:{for:"log_val"}},[t._v("Log value")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-6"},[e("label",{attrs:{for:"log_val"}},[t._v("Log value")])])}],l=o(3822),a=o(5200),i={data(){return{tracker:"",log:"",log_id:this.$route.params.id||"",time:"00:00:00"}},methods:{refresh(){let t=this;var e=fetch("http://localhost:5000/api/log/"+t.log_id,{method:"GET",headers:{"A-T":t.$Ciphers.decode("Vigenere Cipher",t.$cookies.get("user")||"",["Pwd"]).split(";")[2]||""}});e.then((t=>{if(t.ok&&!t.redirected)return t.json();throw{e_code:t.status,error:t.statusText}})).then((e=>{console.log(e),t.log=e})).catch((t=>{console.log(t),console.log(t.error+" kindly re-login")})).then((()=>{""!=t.log&&null!==t.log&&(console.log("getting tracker"),fetch("http://localhost:5000/api/tracker/"+t.log.tracker_id,{method:"GET",headers:{"A-T":t.$Ciphers.decode("Vigenere Cipher",t.$cookies.get("user")||"",["Pwd"]).split(";")[2]||""}}).then((t=>{if(t.ok&&!t.redirected)return t.json();throw{e_code:t.status,error:t.statusText}})).then((e=>{t.tracker=e})).catch((t=>{console.log(t),console.log(t.error+" kindly re-login")})))}))},stopwatch:function(){return a.Z},postlog(){if(null===document.getElementById("log_val")||""===document.getElementById("log_val").value)return document.getElementById("error").innerHTML="Enter log value",null;if(null===document.getElementById("log_note"))return console.log("note element missing"),null;document.getElementById("error").innerHTML="";let t=document.getElementById("log_datetime").value;console.log(t);let e={log_value:document.getElementById("log_val").value,log_datetime:t,log_note:document.getElementById("log_note").value};fetch("http://localhost:5000/api/log/"+this.log.log_id,{method:"PUT",headers:{"Content-Type":"application/json","A-T":this.$Ciphers.decode("Vigenere Cipher",this.$cookies.get("user")||"",["Pwd"]).split(";")[2]||""},body:JSON.stringify(e)}).then((t=>{if(!t.ok||t.redirected)throw{e_code:t.status,error:t.statusText};alert("Updated")})).catch((t=>{console.log(t),console.log(t.error+" kindly re-login")}))},update_dt(){let t=new Date,e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=t.getDate()+"/"+e[t.getMonth()]+"/"+t.getFullYear()+", "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+"."+t.getMilliseconds();document.getElementById("log_datetime").value=o}},computed:{...(0,l.Se)(["tracker_types","get_trackers","tracker_ids"]),get_tracker(){return this.tracker}},mounted(){0==this.tracker.length&&this.refresh()}},n=i,c=o(1001),d=(0,c.Z)(n,s,r,!1,null,"2cb2181c",null),u=d.exports},5200:function(t,e){const o={hour:0,sec:0,min:0,dispHour:0,dispMin:0,dispSec:0,timeoutId:null,check:"start",timer:function(){console.log("from timer"),console.log(this),o.sec++,o.sec/60==1&&(o.min++,o.sec=0,o.min/60==1&&(o.hour++,o.min=0)),o.sec<10?o.dispSec="0"+o.sec.toString():o.dispSec=o.sec.toString(),o.min<10?o.dispMin="0"+o.min.toString():o.dispMin=o.min.toString(),o.hour<10?o.dispHour="0"+o.hour.toString():o.dispHour=o.hour.toString(),document.getElementById("log_val").value=o.dispHour+":"+o.dispMin+":"+o.dispSec},start:function(){"start"===this.check?(this.timeoutId=window.setInterval(this.timer,1e3),document.getElementById("start").innerHTML="Stop",this.check="stop"):(window.clearInterval(this.timeoutId),document.getElementById("start").innerHTML="Start",this.check="start")},reset:function(){window.clearInterval(this.timeoutId),this.sec=0,this.min=0,this.hour=0,document.getElementById("log_val").value="00:00:00",document.getElementById("start").innerHTML="Start"}};e["Z"]=o}}]);
//# sourceMappingURL=205.f674da2c.js.map