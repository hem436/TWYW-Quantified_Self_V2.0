"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[928],{3928:function(t,e,s){s.r(e),s.d(e,{default:function(){return n}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"trackers align-items-center"},[e("div",{staticClass:"row row-cols-lg-3 row-cols-2 justify-content-center"},t._l(t.trackers,(function(r,a){return e("div",{key:r.tracker_id,staticClass:"container col m-2"},[e("div",{staticClass:"action row g-0"},[e("div",{staticClass:"col d-flex align-items-center"},[e("div",{staticClass:"group pt-5"},[e("router-link",{attrs:{to:{name:"dash.tracker",params:{id:r.tracker_id}}}},[e("img",{attrs:{src:s(6500),alt:"Details","data-bs-toggle":"tooltip",title:"Details"}})]),e("router-link",{attrs:{to:"/tracker/update/"+r.tracker_id}},[e("img",{attrs:{src:s(9855),alt:"Edit","data-bs-toggle":"tooltip",title:"Edit"}})]),e("a",{on:{click:function(e){return t.del_trk(r.tracker_id)}}},[e("img",{attrs:{src:s(1734),alt:"delete","data-bs-toggle":"tooltip",title:"Delete"}})]),e("a",{on:{click:function(e){return t.obj_to_csv(r)}}},[e("img",{attrs:{src:s(6538),alt:"export","data-bs-toggle":"tooltip",title:"Export"}})])],1)]),e("div",{staticClass:"col-md-10"},[e("div",{staticClass:"card border-success"},[e("div",{staticClass:"card-header align-middle"},[e("h4",[t._v(t._s(a+1)+") "+t._s(r.tracker_name))]),r.last_updated?e("span",{staticClass:"text-muted"},[e("small",[t._v("Last logged: "+t._s(t._f("date_format")(r.last_updated.slice(0,-7))))])]):t._e()]),e("div",{staticClass:"card-body h6"},[e("div",{staticClass:"card-text"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col text-primary"},[t._v(" Tracker type: ")]),e("div",{staticClass:"col"},[t._v(t._s(r.tracker_type)),e("br"),e("br")])]),r.tracker_description?e("div",{staticClass:"text-primary"},[t._v(" Tracker description: ")]):t._e(),e("span",[t._v(t._s(r.tracker_description))])])]),e("div",{staticClass:"card-footer collapse"})])])])])})),0)])},a=[],i=s(532),c={data(){return{trackers:this.$store.getters.get_trackers}},methods:{refresh(){let t=this;fetch("http://localhost:5000/api/user/"+this.$store.state.user,{method:"GET",headers:{"A-T":this.$Ciphers.decode("Vigenere Cipher",this.$cookies.get("user")||"",["Pwd"]).split(";")[2]||""}}).then((t=>{if(t.ok&&!t.redirected)return t.json();throw{e_code:t.status,error:t.statusText}})).then((e=>{for(let s of e.trackers)t.$store.commit("set_tracker",s)})).catch((e=>{console.log(e.error+" kindly re-login"),t.$router.push("/login")}))},del_trk(t){window.confirm("Delete this tracker along with all logs?")&&fetch("http://localhost:5000/api/tracker/"+t,{method:"DELETE",headers:{"A-T":this.$Ciphers.decode("Vigenere Cipher",this.$cookies.get("user")||"",["Pwd"]).split(";")[2]||""}}).then((t=>{if(!t.ok||t.redirected)throw{e_code:t.status,error:t.statusText};alert("Deleted"),this.$store.commit("delete_trackers"),this.trackers=this.$store.state.trackers,this.refresh()})).catch((t=>{console.log(t.error+" kindly re-login"),this.$router.go("/login")}))},obj_to_csv(t){let e=[["Fields","values\r\n"]];e=e+Object.entries(t).map((t=>[t[0]+","+`"${t[1]}"`])).slice(2,7).join("\r\n")+"\r\n"+Object.entries(t).map((t=>[t[0]+","+`"${t[1]}"`])).slice(0,2).join("\r\n"),(0,i.Z)(e,`"${t.tracker_name}.csv"`,"text/csv;charset=utf-8;")}},mounted(){0==this.$store.getters.tracker_types.length&&this.refresh()}},o=c,l=s(1001),d=(0,l.Z)(o,r,a,!1,null,"d35f0092",null),n=d.exports},532:function(t,e){function s(t,e,s){var r=new Blob([t],{type:s}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.setAttribute("download",e),i.click()}e["Z"]=s},1734:function(t,e,s){t.exports=s.p+"img/delete.b715afa5.svg"},6500:function(t,e,s){t.exports=s.p+"img/details.036ec9eb.svg"},9855:function(t,e,s){t.exports=s.p+"img/edit.5f32dc82.svg"},6538:function(t,e,s){t.exports=s.p+"img/export.146f82b9.svg"}}]);
//# sourceMappingURL=928.01ed2237.js.map