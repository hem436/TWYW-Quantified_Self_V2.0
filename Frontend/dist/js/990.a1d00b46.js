"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[990],{5990:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("form",{staticClass:"form col-10 offset-1"},[e("div",{staticClass:"h5"},[t._v(" Schedule name: "+t._s(this.current_s.name)),e("br")]),e("div",{staticClass:"form-check form-switch"},[e("label",{staticClass:"form-check-label",attrs:{for:"switch"}},[t._v("On/Off")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sw,expression:"sw"}],staticClass:"form-check-input",attrs:{type:"checkbox",role:"switch",name:"switch"},domProps:{checked:Array.isArray(t.sw)?t._i(t.sw,null)>-1:t.sw},on:{change:function(e){var s=t.sw,n=e.target,r=!!n.checked;if(Array.isArray(s)){var i=null,o=t._i(s,i);n.checked?o<0&&(t.sw=s.concat([i])):o>-1&&(t.sw=s.slice(0,o).concat(s.slice(o+1)))}else t.sw=r}}})]),e("div",{staticClass:"btn-group my-4"},[e("input",{staticClass:"btn-check",attrs:{type:"radio",name:"vbtn-radio",id:"Every day"},on:{change:function(e){return t.onChange(e)}}}),e("label",{staticClass:"btn btn-outline-info",attrs:{for:"Every day"}},[t._v("Every day")]),e("input",{staticClass:"btn-check",attrs:{type:"radio",name:"vbtn-radio",id:"Every week"},on:{change:function(e){return t.onChange(e)}}}),e("label",{staticClass:"btn btn-outline-info",attrs:{for:"Every week"}},[t._v("Every week")]),e("input",{staticClass:"btn-check",attrs:{type:"radio",name:"vbtn-radio",id:"Every month"},on:{change:function(e){return t.onChange(e)}}}),e("label",{staticClass:"btn btn-outline-info",attrs:{for:"Every month"}},[t._v("Every month")]),e("input",{staticClass:"btn-check",attrs:{type:"radio",name:"vbtn-radio",id:"Every year"},on:{change:function(e){return t.onChange(e)}}}),e("label",{staticClass:"btn btn-outline-info",attrs:{for:"Every year"}},[t._v("Every year")])]),e("div",{},[e("em",{staticClass:"h6"},[t._v("Next Schedule ("+t._s(this.current_s.next.slice(0,-4))+")")])]),e("div",{staticClass:"my-3"},[e("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",name:"button"},on:{click:t.schedule_report}},[t._v(" Schedule report ")]),e("button",{staticClass:"h6 m-2 btn btn-outline-danger",attrs:{type:"button"},on:{click:t.test_report}},[t._v(" Send now ")])])])])},r=[],i={data(){return{user_id:this.$store.state.user_id,sw:"",s_option:"",current_s:{name:"No schedule",next:""}}},methods:{onChange(t){this.s_option=t.target.id,this.sw=!0},schedule_report(){let t={schedule:this.s_option};fetch("http://localhost:5000/gen_report/"+this.user_id+"?switch="+this.sw,{method:"POST",headers:{"Content-Type":"application/json","A-T":this.$Ciphers.decode("Vigenere Cipher",this.$cookies.get("user")||"",["Pwd"]).split(";")[2]||""},body:JSON.stringify(t)}).then((t=>{if(t&&t.ok)return t.json();throw t})).then((t=>{this.current_s=t,this.sw=t.enabled,document.getElementById(this.s_option).checked=!0,alert("scheduled")})).catch((t=>{400==t.status&&alert("select a schedule first")}))},test_report(){let t={schedule:"now"};fetch("http://localhost:5000/gen_report/"+this.user_id,{method:"POST",headers:{"Content-Type":"application/json","A-T":this.$Ciphers.decode("Vigenere Cipher",this.$cookies.get("user")||"",["Pwd"]).split(";")[2]||""},body:JSON.stringify(t)}).then((t=>{if(t&&t.ok)return t.text()})).then((t=>{alert(t)})).catch((t=>{console.log(t),console.log(t.error+" kindly re-login")}))}},mounted(){fetch("http://localhost:5000/gen_report/"+this.user_id+"?switch="+this.sw,{method:"GET",headers:{"A-T":this.$Ciphers.decode("Vigenere Cipher",this.$cookies.get("user")||"",["Pwd"]).split(";")[2]||""}}).then((t=>{if(t&&t.ok)return t.json();throw t})).then((t=>{this.current_s=t,this.s_option=t.schedule,this.sw=t.enabled,document.getElementById(this.s_option).checked=!0})).catch((t=>{console.log(t.statusText),console.log(t.status+" kindly re-login")}))}},o=i,a=s(1001),c=(0,a.Z)(o,n,r,!1,null,null,null),h=c.exports}}]);
//# sourceMappingURL=990.a1d00b46.js.map