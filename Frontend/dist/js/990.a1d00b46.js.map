{"version":3,"file":"js/990.a1d00b46.js","mappings":"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","sources":["webpack://vue-test/./src/components/ScheduleReport.vue","webpack://vue-test/src/components/ScheduleReport.vue","webpack://vue-test/./src/components/ScheduleReport.vue?1108","webpack://vue-test/./src/components/ScheduleReport.vue?781e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row\"},[_c('form',{staticClass:\"form col-10 offset-1\"},[_c('div',{staticClass:\"h5\"},[_vm._v(\" Schedule name: \"+_vm._s(this.current_s.name)),_c('br')]),_c('div',{staticClass:\"form-check form-switch\"},[_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"switch\"}},[_vm._v(\"On/Off\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sw),expression:\"sw\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"checkbox\",\"role\":\"switch\",\"name\":\"switch\"},domProps:{\"checked\":Array.isArray(_vm.sw)?_vm._i(_vm.sw,null)>-1:(_vm.sw)},on:{\"change\":function($event){var $$a=_vm.sw,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.sw=$$a.concat([$$v]))}else{$$i>-1&&(_vm.sw=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.sw=$$c}}}})]),_c('div',{staticClass:\"btn-group my-4\"},[_c('input',{staticClass:\"btn-check\",attrs:{\"type\":\"radio\",\"name\":\"vbtn-radio\",\"id\":\"Every day\"},on:{\"change\":function($event){return _vm.onChange($event)}}}),_c('label',{staticClass:\"btn btn-outline-info\",attrs:{\"for\":\"Every day\"}},[_vm._v(\"Every day\")]),_c('input',{staticClass:\"btn-check\",attrs:{\"type\":\"radio\",\"name\":\"vbtn-radio\",\"id\":\"Every week\"},on:{\"change\":function($event){return _vm.onChange($event)}}}),_c('label',{staticClass:\"btn btn-outline-info\",attrs:{\"for\":\"Every week\"}},[_vm._v(\"Every week\")]),_c('input',{staticClass:\"btn-check\",attrs:{\"type\":\"radio\",\"name\":\"vbtn-radio\",\"id\":\"Every month\"},on:{\"change\":function($event){return _vm.onChange($event)}}}),_c('label',{staticClass:\"btn btn-outline-info\",attrs:{\"for\":\"Every month\"}},[_vm._v(\"Every month\")]),_c('input',{staticClass:\"btn-check\",attrs:{\"type\":\"radio\",\"name\":\"vbtn-radio\",\"id\":\"Every year\"},on:{\"change\":function($event){return _vm.onChange($event)}}}),_c('label',{staticClass:\"btn btn-outline-info\",attrs:{\"for\":\"Every year\"}},[_vm._v(\"Every year\")])]),_c('div',{},[_c('em',{staticClass:\"h6\"},[_vm._v(\"Next Schedule (\"+_vm._s(this.current_s.next.slice(0, -4))+\")\")])]),_c('div',{staticClass:\"my-3\"},[_c('button',{staticClass:\"btn btn-outline-primary\",attrs:{\"type\":\"button\",\"name\":\"button\"},on:{\"click\":_vm.schedule_report}},[_vm._v(\" Schedule report \")]),_c('button',{staticClass:\"h6 m-2 btn btn-outline-danger\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.test_report}},[_vm._v(\" Send now \")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"row\">\n    <form class=\"form col-10 offset-1\">\n      <div class=\"h5\">\n        Schedule name:\n        {{ this.current_s.name }}<br />\n      </div>\n      <div class=\"form-check form-switch\">\n        <label class=\"form-check-label\" for=\"switch\">On/Off</label>\n        <input\n          class=\"form-check-input\"\n          type=\"checkbox\"\n          role=\"switch\"\n          name=\"switch\"\n          v-model=\"sw\"\n        />\n      </div>\n\n      <div class=\"btn-group my-4\">\n        <input\n          type=\"radio\"\n          class=\"btn-check\"\n          name=\"vbtn-radio\"\n          @change=\"onChange($event)\"\n          id=\"Every day\"\n        />\n        <label class=\"btn btn-outline-info\" for=\"Every day\">Every day</label>\n        <input\n          type=\"radio\"\n          class=\"btn-check\"\n          name=\"vbtn-radio\"\n          @change=\"onChange($event)\"\n          id=\"Every week\"\n        />\n        <label class=\"btn btn-outline-info \" for=\"Every week\">Every week</label>\n        <input\n          type=\"radio\"\n          class=\"btn-check\"\n          name=\"vbtn-radio\"\n          @change=\"onChange($event)\"\n          id=\"Every month\"\n        />\n        <label class=\"btn btn-outline-info \" for=\"Every month\"\n          >Every month</label\n        >\n        <input\n          type=\"radio\"\n          class=\"btn-check\"\n          name=\"vbtn-radio\"\n          @change=\"onChange($event)\"\n          id=\"Every year\"\n        />\n        <label class=\"btn btn-outline-info \" for=\"Every year\">Every year</label>\n      </div>\n      <div class=\"\">\n        <em class=\"h6\"\n          >Next Schedule ({{ this.current_s.next.slice(0, -4) }})</em\n        >\n      </div>\n\n      <div class=\"my-3\">\n        <button\n          class=\"btn btn-outline-primary\"\n          type=\"button\"\n          name=\"button\"\n          @click=\"schedule_report\"\n        >\n          Schedule report\n        </button>\n        <button\n          class=\"h6 m-2 btn btn-outline-danger\"\n          type=\"button\"\n          @click=\"test_report\"\n        >\n          Send now\n        </button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script type=\"text/javascript\">\nexport default {\n  data() {\n    return {\n      user_id: this.$store.state.user_id,\n      sw: \"\",\n      s_option: \"\",\n      current_s: {\n        name: \"No schedule\",\n        next: \"\"\n      }\n    };\n  },\n  methods: {\n    onChange(event) {\n      this.s_option = event.target.id;\n      this.sw = true;\n    },\n    schedule_report() {\n      let data = {\n        schedule: this.s_option\n      };\n      fetch(\n        process.env.VUE_APP_BACKEND_URL +\n          \"gen_report/\" +\n          this.user_id +\n          \"?switch=\" +\n          this.sw,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"A-T\":\n              this.$Ciphers\n                .decode(\"Vigenere Cipher\", this.$cookies.get(\"user\") || \"\", [\n                  \"Pwd\"\n                ])\n                .split(\";\")[2] || \"\"\n          },\n          body: JSON.stringify(data)\n        }\n      )\n        .then(response => {\n          if (response && response.ok) {\n            return response.json();\n          } else {\n            throw response;\n          }\n        })\n        .then(data => {\n          this.current_s = data;\n          this.sw = data.enabled;\n          document.getElementById(this.s_option).checked = true;\n          alert(\"scheduled\");\n        })\n        .catch(rej => {\n          if (rej.status == 400) {\n            alert(\"select a schedule first\");\n          }\n          return;\n        });\n    },\n    test_report() {\n      let data = {\n        schedule: \"now\"\n      };\n      fetch(process.env.VUE_APP_BACKEND_URL + \"gen_report/\" + this.user_id, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"A-T\":\n            this.$Ciphers\n              .decode(\"Vigenere Cipher\", this.$cookies.get(\"user\") || \"\", [\n                \"Pwd\"\n              ])\n              .split(\";\")[2] || \"\"\n        },\n        body: JSON.stringify(data)\n      })\n        .then(response => {\n          if (response && response.ok) {\n            return response.text();\n          }\n        })\n        .then(data => {\n          alert(data);\n        })\n        .catch(rej => {\n          console.log(rej);\n          console.log(rej.error + \" kindly re-login\");\n          return;\n        });\n    }\n  },\n  mounted() {\n    fetch(\n      process.env.VUE_APP_BACKEND_URL +\n        \"gen_report/\" +\n        this.user_id +\n        \"?switch=\" +\n        this.sw,\n      {\n        method: \"GET\",\n        headers: {\n          \"A-T\":\n            this.$Ciphers\n              .decode(\"Vigenere Cipher\", this.$cookies.get(\"user\") || \"\", [\n                \"Pwd\"\n              ])\n              .split(\";\")[2] || \"\"\n        }\n      }\n    )\n      .then(response => {\n        if (response && response.ok) {\n          return response.json();\n        } else {\n          throw response;\n        }\n      })\n      .then(data => {\n        this.current_s = data;\n        this.s_option = data.schedule;\n        this.sw = data.enabled;\n        document.getElementById(this.s_option).checked = true;\n      })\n      .catch(rej => {\n        console.log(rej.statusText);\n        console.log(rej.status + \" kindly re-login\");\n        return;\n      });\n  }\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ScheduleReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ScheduleReport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScheduleReport.vue?vue&type=template&id=74abfe4b&\"\nimport script from \"./ScheduleReport.vue?vue&type=script&lang=js&\"\nexport * from \"./ScheduleReport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","current_s","name","attrs","directives","rawName","value","sw","expression","domProps","Array","isArray","_i","on","$event","$$a","$$el","target","$$c","checked","$$v","$$i","concat","slice","onChange","next","schedule_report","test_report","staticRenderFns","data","user_id","s_option","methods","schedule","fetch","process","method","headers","decode","split","body","then","response","document","alert","catch","rej","console","mounted","component"],"sourceRoot":""}