"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[760],{4760:function(t,e,s){s.r(e),s.d(e,{default:function(){return l}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"add_tracker"},[t._m(0),e("br"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 offset-3 h5"},[e("div",{staticClass:"row m-3"},[e("div",{staticClass:"col-6"},[t._v(" Tracker Name: ")]),e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.t_name,expression:"t_name"}],attrs:{type:"text",value:""},domProps:{value:t.t_name},on:{input:function(e){e.target.composing||(t.t_name=e.target.value)}}})])]),e("div",{staticClass:"row m-3"},[e("div",{staticClass:"col-6"},[t._v(" Tracker type: ")]),e("div",{staticClass:"col-6"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{id:"t_type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:"Integer"}},[t._v("Integer")]),e("option",{attrs:{value:"Numeric"}},[t._v("Numeric")]),e("option",{attrs:{value:"Time"}},[t._v("Time")]),e("option",{attrs:{value:"Multiple-choice"}},[t._v("Multiple-choice")])])])]),"Multiple-choice"==t.type?e("div",{staticClass:"row m-3"},[t._m(1),e("div",{staticClass:"col-6"},[e("input",{attrs:{type:"text",id:"option",value:""}}),e("button",{attrs:{type:"button",name:"button"},on:{click:t.addopt}},[t._v(" add options ")]),e("button",{attrs:{type:"button",name:"button"},on:{click:t.remopt}},[t._v(" remove ")]),e("div",[t._v(t._s(t.t_option.join()))])])]):t._e(),e("div",{staticClass:"row m-3"},[e("div",{staticClass:"col-6"},[t._v(" Tracker Description: ")]),e("div",{staticClass:"col-6"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.t_desc,expression:"t_desc"}],attrs:{name:"desc",placeholder:"Note/Remark"},domProps:{value:t.t_desc},on:{input:function(e){e.target.composing||(t.t_desc=e.target.value)}}})])]),e("div",{staticClass:"row m-3"},[e("div",{staticClass:"col d-flex justify-content-center"},[e("button",{attrs:{type:"submit",name:"button"},on:{click:t.addtracker}},[t._v(" Submit ")]),e("div",{staticClass:"error"},[t._v(t._s(t.error))])])])])])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 offset-3 d-flex justify-content-center"},[e("h1",[t._v("Add a Tracker")])]),e("div",{staticClass:"col-3 d-flex justify-content-center"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-6"},[e("label",{attrs:{for:"t_option"}},[t._v("Options")])])}],r={data(){return{t_name:"",t_desc:"",t_option:[],type:"",error:""}},methods:{addopt(){let t=document.getElementById("option").value;t&&(this.t_option.push(t),document.getElementById("option").value="")},remopt(){this.t_option.length>0&&(document.getElementById("option").value=this.t_option.pop())},addtracker(){if(0==this.t_name.length)return void(this.error="Enter valid Tracker name");if(0==this.type.length)return void(this.error="Select correct tracker type");if("Multiple-choice"==this.type&&this.t_option.length<=1)return void(this.error="options should be more than 1");this.error="";let t={user_id:this.$store.state.user_id,tracker_name:this.t_name,tracker_description:this.t_desc,tracker_type:this.type,settings:this.t_option.join()};fetch("http://localhost:5000/api/tracker",{method:"POST",headers:{"Content-Type":"application/json","A-T":this.$Ciphers.decode("Vigenere Cipher",this.$cookies.get("user")||"",["Pwd"]).split(";")[2]||""},body:JSON.stringify(t)}).then((t=>{if(t.ok&&!t.redirected)return t.json();throw"401"==t.code&&this.$router.push("/login"),{e_code:t.status,error:t.statusText}})).then((t=>{this.$store.commit("set_tracker",t),alert("Added")})).catch((t=>{console.log(t),console.log(t.error+" kindly re-login")}))}},computed:{}},a=r,n=s(1001),c=(0,n.Z)(a,o,i,!1,null,null,null),l=c.exports}}]);
//# sourceMappingURL=760.d8b4982b.js.map