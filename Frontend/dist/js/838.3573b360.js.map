{"version":3,"file":"js/838.3573b360.js","mappings":"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","sources":["webpack://vue-test/./src/components/DashHome.vue","webpack://vue-test/./src/assets/utils.js","webpack://vue-test/src/components/DashHome.vue","webpack://vue-test/./src/components/DashHome.vue?76a5","webpack://vue-test/./src/components/DashHome.vue?433e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"trackers align-items-center\"},[_c('div',{staticClass:\"row row-cols-lg-3 row-cols-2 justify-content-center\"},_vm._l((_vm.trackers),function(t,index){return _c('div',{key:t.tracker_id,staticClass:\"container col m-2\"},[_c('div',{staticClass:\"action row g-0\"},[_c('div',{staticClass:\"col d-flex align-items-center\"},[_c('div',{staticClass:\"group pt-5\"},[_c('router-link',{attrs:{\"to\":{ name: 'dash.tracker', params: { id: t.tracker_id } }}},[_c('img',{attrs:{\"src\":require(\"@/assets/svg/details.svg\"),\"alt\":\"Details\",\"data-bs-toggle\":\"tooltip\",\"title\":\"Details\"}})]),_c('router-link',{attrs:{\"to\":'/tracker/update/' + t.tracker_id}},[_c('img',{attrs:{\"src\":require(\"@/assets/svg/edit.svg\"),\"alt\":\"Edit\",\"data-bs-toggle\":\"tooltip\",\"title\":\"Edit\"}})]),_c('a',{on:{\"click\":function($event){return _vm.del_trk(t.tracker_id)}}},[_c('img',{attrs:{\"src\":require(\"../assets/svg/delete.svg\"),\"alt\":\"delete\",\"data-bs-toggle\":\"tooltip\",\"title\":\"Delete\"}})]),_c('a',{on:{\"click\":function($event){return _vm.obj_to_csv(t)}}},[_c('img',{attrs:{\"src\":require(\"../assets/svg/export.svg\"),\"alt\":\"export\",\"data-bs-toggle\":\"tooltip\",\"title\":\"Export\"}})])],1)]),_c('div',{staticClass:\"col-md-10\"},[_c('div',{staticClass:\"card border-success\"},[_c('div',{staticClass:\"card-header align-middle\"},[_c('h4',[_vm._v(_vm._s(index + 1)+\") \"+_vm._s(t.tracker_name))]),(t.last_updated)?_c('span',{staticClass:\"text-muted\"},[_c('small',[_vm._v(\"Last logged: \"+_vm._s(_vm._f(\"date_format\")(t.last_updated.slice(0, -7))))])]):_vm._e()]),_c('div',{staticClass:\"card-body h6\"},[_c('div',{staticClass:\"card-text\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col text-primary\"},[_vm._v(\" Tracker type: \")]),_c('div',{staticClass:\"col\"},[_vm._v(_vm._s(t.tracker_type)),_c('br'),_c('br')])]),(t.tracker_description)?_c('div',{staticClass:\"text-primary\"},[_vm._v(\" Tracker description: \")]):_vm._e(),_c('span',[_vm._v(_vm._s(t.tracker_description))])])]),_c('div',{staticClass:\"card-footer collapse\"})])])])])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function downloadBlob(content, filename, contentType) {\n  // Create a blob\n  var blob = new Blob([content], { type: contentType });\n  var url = URL.createObjectURL(blob);\n\n  // Create a link to download it\n  var pom = document.createElement(\"a\");\n  pom.href = url;\n  pom.setAttribute(\"download\", filename);\n  pom.click();\n}\nexport default downloadBlob;\n","<template>\n  <div class=\"trackers align-items-center\">\n    <div class=\" row row-cols-lg-3 row-cols-2 justify-content-center\">\n      <div\n        class=\"container col m-2\"\n        v-for=\"(t, index) in trackers\"\n        :key=\"t.tracker_id\"\n      >\n        <div class=\"action row g-0\">\n          <div class=\" col d-flex align-items-center\">\n            <div class=\"group pt-5\">\n              <router-link\n                :to=\"{ name: 'dash.tracker', params: { id: t.tracker_id } }\"\n              >\n                <img\n                  src=\"@/assets/svg/details.svg\"\n                  alt=\"Details\"\n                  data-bs-toggle=\"tooltip\"\n                  title=\"Details\"\n                />\n              </router-link>\n              <router-link :to=\"'/tracker/update/' + t.tracker_id\">\n                <img\n                  src=\"@/assets/svg/edit.svg\"\n                  alt=\"Edit\"\n                  data-bs-toggle=\"tooltip\"\n                  title=\"Edit\"\n                />\n              </router-link>\n\n              <a @click=\"del_trk(t.tracker_id)\">\n                <img\n                  src=\"../assets/svg/delete.svg\"\n                  alt=\"delete\"\n                  data-bs-toggle=\"tooltip\"\n                  title=\"Delete\"\n              /></a>\n\n              <a @click=\"obj_to_csv(t)\">\n                <img\n                  src=\"../assets/svg/export.svg\"\n                  alt=\"export\"\n                  data-bs-toggle=\"tooltip\"\n                  title=\"Export\"\n              /></a>\n            </div>\n          </div>\n          <div class=\"col-md-10\">\n            <div class=\"card border-success\">\n              <div class=\"card-header align-middle\">\n                <h4>{{ index + 1 }}) {{ t.tracker_name }}</h4>\n                <span class=\"text-muted\" v-if=\"t.last_updated\">\n                  <small\n                    >Last logged:\n                    {{ t.last_updated.slice(0, -7) | date_format }}</small\n                  >\n                </span>\n              </div>\n              <div class=\"card-body h6\">\n                <div class=\"card-text\">\n                  <div class=\"row\">\n                    <div class=\"col text-primary\">\n                      Tracker type:\n                    </div>\n                    <div class=\"col\">{{ t.tracker_type }}<br /><br /></div>\n                  </div>\n                  <div class=\"text-primary\" v-if=\"t.tracker_description\">\n                    Tracker description:\n                  </div>\n                  <span>{{ t.tracker_description }}</span>\n                </div>\n              </div>\n              <div class=\"card-footer collapse\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport downloadBlob from \"@/assets/utils.js\";\nexport default {\n  data() {\n    return {\n      trackers: this.$store.getters.get_trackers\n    };\n  },\n  methods: {\n    refresh() {\n      let self = this;\n      fetch(\"http://localhost:5000/api/user/\" + this.$store.state.user, {\n        method: \"GET\",\n        headers: {\n          \"A-T\":\n            this.$Ciphers\n              .decode(\"Vigenere Cipher\", this.$cookies.get(\"user\") || \"\", [\n                \"Pwd\"\n              ])\n              .split(\";\")[2] || \"\"\n        }\n      })\n        .then(response => {\n          // console.log(response)\n          if (response.ok && !response.redirected) {\n            return response.json();\n          } else {\n            throw {\n              e_code: response.status,\n              error: response.statusText\n            };\n          }\n        })\n        .then(data => {\n          for (let i of data.trackers) {\n            // self.trackers.push(i)\n            self.$store.commit(\"set_tracker\", i);\n          }\n        })\n        .catch(rej => {\n          console.log(rej.error + \" kindly re-login\");\n          self.$router.push(\"/login\"); //remember\n        });\n    },\n    del_trk(tid) {\n      if (window.confirm(\"Delete this tracker along with all logs?\")) {\n        fetch(\"http://localhost:5000/api/tracker/\" + tid, {\n          method: \"DELETE\",\n          headers: {\n            \"A-T\":\n              this.$Ciphers\n                .decode(\"Vigenere Cipher\", this.$cookies.get(\"user\") || \"\", [\n                  \"Pwd\"\n                ])\n                .split(\";\")[2] || \"\"\n          }\n        })\n          .then(response => {\n            // console.log(response)\n            if (response.ok && !response.redirected) {\n              alert(\"Deleted\");\n              this.$router.go();\n            } else {\n              throw {\n                e_code: response.status,\n                error: response.statusText\n              };\n            }\n          })\n          .catch(rej => {\n            // console.log(rej)\n            console.log(rej.error + \" kindly re-login\");\n            this.$router.push(\"/login\"); //remember\n          });\n      }\n    },\n    obj_to_csv(objArray) {\n      let array = [[\"Fields\", \"values\\r\\n\"]];\n      array =\n        array +\n        Object.entries(objArray) // escape double colons\n          .map(v => [v[0] + \",\" + `\"${v[1]}\"`])\n          .slice(0, 7) // quote it\n          .join(\"\\r\\n\"); // comma-separated\n\n      console.log(array);\n      downloadBlob(\n        array,\n        `\"${objArray.tracker_name}.csv\"`,\n        \"text/csv;charset=utf-8;\"\n      );\n    }\n  },\n  mounted() {\n    if (this.$store.getters.tracker_types.length == 0) {\n      this.refresh();\n    }\n  }\n};\n</script>\n\n<style scoped>\n.table {\n  border: hidden;\n}\n\nbutton {\n  box-shadow: 0 6px 8px 0 rgba(0, 0, 0, 0.05), 0 6px 5px 0 rgba(0, 0, 0, 0.05);\n  border-radius: 10px;\n}\n\na {\n  text-decoration: none;\n}\n\n.card {\n  box-shadow: 0 6px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.1);\n  background-color: #00f3ff2e;\n  border-radius: 15px;\n  min-height: 20rem;\n  font-family: Rockwell, sans-serif;\n}\n.group {\n  visibility: hidden;\n  display: block;\n  align-self: baseline;\n  vertical-align: bottom;\n}\n.card:hover {\n  box-shadow: 0 0 0 2px #d0d0d0;\n}\n\n.action:hover .group {\n  visibility: visible;\n}\nimg {\n  margin: 5px;\n  width: 40px;\n  border-radius: 40px;\n}\nimg:hover {\n  box-shadow: 0 0 0 2px #d0d0d0;\n}\n@media (max-width: 700px) {\n  .container {\n    min-width: 80%;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DashHome.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DashHome.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DashHome.vue?vue&type=template&id=f39a6b4c&scoped=true&\"\nimport script from \"./DashHome.vue?vue&type=script&lang=js&\"\nexport * from \"./DashHome.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DashHome.vue?vue&type=style&index=0&id=f39a6b4c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f39a6b4c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_l","trackers","t","index","key","tracker_id","attrs","name","params","id","require","on","$event","del_trk","obj_to_csv","_v","_s","tracker_name","last_updated","_f","slice","_e","tracker_type","tracker_description","staticRenderFns","downloadBlob","content","filename","contentType","blob","Blob","type","url","URL","createObjectURL","pom","document","createElement","href","setAttribute","click","data","methods","refresh","fetch","method","headers","decode","split","then","response","e_code","error","self","catch","rej","console","alert","array","Object","map","v","join","mounted","component"],"sourceRoot":""}